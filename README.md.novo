# ğŸï¸ Mouros Moto Hub

![Mouros Moto Hub](https://img.shields.io/badge/Mouros-Moto_Hub-e11d48?style=for-the-badge)
![LicenÃ§a](https://img.shields.io/badge/LicenÃ§a-MIT-blue?style=flat-square)
![EstÃ¡gio](https://img.shields.io/badge/Status-Em_Desenvolvimento-yellow?style=flat-square)
![React](https://img.shields.io/badge/React-18-61DAFB?style=flat-square&logo=react)
![TypeScript](https://img.shields.io/badge/TypeScript-5-3178C6?style=flat-square&logo=typescript)
![Supabase](https://img.shields.io/badge/Supabase-00C7B7?style=flat-square&logo=supabase)
![Vite](https://img.shields.io/badge/Vite-latest-646CFF?style=flat-square&logo=vite)
![Tailwind CSS](https://img.shields.io/badge/Tailwind-CSS-38B2AC?style=flat-square&logo=tailwind-css)

Plataforma completa de gerenciamento para o moto clube "Os Mouros", oferecendo funcionalidades pÃºblicas e privativas para membros, com foco na gestÃ£o de eventos, loja, bar e muito mais.

## ğŸ“‹ Ãndice

- [ğŸš€ VisÃ£o Geral](#-visÃ£o-geral)
- [âœ¨ Funcionalidades](#-funcionalidades)
- [ğŸ› ï¸ Tecnologias](#ï¸-tecnologias)
- [âš™ï¸ InstalaÃ§Ã£o e Uso](#ï¸-instalaÃ§Ã£o-e-uso)
- [ğŸ“Š Estrutura do Projeto](#-estrutura-do-projeto)
- [ğŸ”’ AutenticaÃ§Ã£o](#-autenticaÃ§Ã£o)
- [ğŸ” Consultando a API](#-consultando-a-api)
- [ğŸ“· Screenshots](#-screenshots)
- [ğŸ‘¥ Contribuidores](#-contribuidores)
- [ğŸ“„ LicenÃ§a](#-licenÃ§a)

## ğŸš€ VisÃ£o Geral

O Mouros Moto Hub Ã© uma aplicaÃ§Ã£o web completa desenvolvida para o moto clube "Os Mouros". A plataforma permite gerenciar todos os aspectos do clube, desde eventos e membros atÃ© produtos da loja, stock do bar e escalas de trabalho. O sistema possui uma Ã¡rea pÃºblica com informaÃ§Ãµes do clube e uma Ã¡rea privativa para membros com acesso a funcionalidades administrativas.

## âœ¨ Funcionalidades

### Ãrea PÃºblica
- **ğŸ  PÃ¡gina Inicial** - Landing page com informaÃ§Ãµes sobre o clube
- **ğŸ“œ Sobre** - HistÃ³ria e valores do moto clube
- **ğŸ­ Eventos** - CalendÃ¡rio e detalhes de eventos pÃºblicos
- **ğŸ–¼ï¸ Galeria** - Fotos de eventos e atividades
- **ğŸ›’ Loja** - Produtos do clube disponÃ­veis para compra
- **ğŸ» Bar** - InformaÃ§Ãµes sobre o bar do clube
- **ğŸ“ Contato** - FormulÃ¡rio para contatar o clube

### Ãrea de Membros (Protegida)
- **ğŸ“Š Dashboard** - VisÃ£o geral das atividades do clube
- **ğŸ‘¥ GestÃ£o de Membros** - Cadastro e gerenciamento de membros
- **ğŸ—“ï¸ GestÃ£o de Eventos** - CriaÃ§Ã£o e organizaÃ§Ã£o de eventos
- **ğŸº GestÃ£o do Bar** - Controle de vendas e stock do bar
- **ğŸ‘• GestÃ£o da Loja** - Gerenciamento de produtos e vendas
- **ğŸ“¦ GestÃ£o de InventÃ¡rio** - Controle de stock de produtos
- **â° Escalas** - Gerenciamento de escalas/turnos
- **ğŸï¸ Garagem** - Cadastro de motocicletas dos membros
- **ğŸ“š HistÃ³rico** - Registro de atividades e eventos passados
- **ğŸ‘‘ AdministraÃ§Ã£o** - ConfiguraÃ§Ãµes administrativas do clube
- **âš™ï¸ ConfiguraÃ§Ãµes** - PreferÃªncias e configuraÃ§Ãµes do sistema

## ğŸ› ï¸ Tecnologias

O projeto Ã© construÃ­do com um stack moderno de tecnologias:

- **Frontend**: 
  - [React](https://reactjs.org/) - Biblioteca JavaScript para construÃ§Ã£o de interfaces
  - [TypeScript](https://www.typescriptlang.org/) - Superset tipado de JavaScript
  - [Vite](https://vitejs.dev/) - Build tool para desenvolvimento rÃ¡pido
  - [React Router](https://reactrouter.com/) - Roteamento dinÃ¢mico para aplicaÃ§Ãµes React

- **EstilizaÃ§Ã£o**:
  - [Tailwind CSS](https://tailwindcss.com/) - Framework CSS utilitÃ¡rio
  - [shadcn/ui](https://ui.shadcn.com/) - Componentes reutilizÃ¡veis construÃ­dos com Radix UI

- **Estado e RequisiÃ§Ãµes**:
  - [React Query](https://tanstack.com/query) - Gerenciamento de estado do servidor
  - [React Hook Form](https://react-hook-form.com/) - Gerenciamento de formulÃ¡rios
  - [Zod](https://zod.dev/) - ValidaÃ§Ã£o de esquemas TypeScript

- **Backend**:
  - [Express](https://expressjs.com/) - Framework para APIs REST
  - [Supabase](https://supabase.io/) - Backend-as-a-Service com autenticaÃ§Ã£o e banco de dados

## âš™ï¸ InstalaÃ§Ã£o e Uso

### PrÃ©-requisitos
- Node.js (versÃ£o 18 ou superior)
- npm ou bun

### ğŸ“¦ InstalaÃ§Ã£o RÃ¡pida

```bash
# Clone este repositÃ³rio
git clone https://github.com/seu-usuario/mouros-moto-hub.git
cd mouros-moto-hub

# Use o Makefile para configurar tudo automaticamente
make setup

# Inicie o ambiente de desenvolvimento (frontend + backend)
make dev
```

### ğŸ§° InstalaÃ§Ã£o Manual

```bash
# Configure o frontend
cd frontend
npm install
cp .env.example .env  # Configure suas variÃ¡veis de ambiente

# Configure o backend
cd ../backend
npm install
cp .env.example .env  # Configure suas variÃ¡veis de ambiente

# Para iniciar os dois serviÃ§os
cd ..
./start-dev.sh
```

### ğŸ”„ Scripts DisponÃ­veis

- `make dev` - Inicia o frontend e o backend em terminais separados
- `make build` - Compila o frontend e o backend
- `make setup` - Instala todas as dependÃªncias
- `./update_api_urls.sh` - Atualiza URLs da API no frontend
- `./cleanup.sh` - Remove arquivos duplicados apÃ³s a reorganizaÃ§Ã£o

## ğŸ“Š Estrutura do Projeto

O projeto agora estÃ¡ dividido em frontend e backend:

```
mouros-moto-hub/
â”œâ”€â”€ frontend/            # AplicaÃ§Ã£o React (cliente)
â”‚   â”œâ”€â”€ src/             # CÃ³digo-fonte do frontend
â”‚   â”‚   â”œâ”€â”€ app/         # ConfiguraÃ§Ã£o e inicializaÃ§Ã£o
â”‚   â”‚   â”œâ”€â”€ components/  # Componentes reutilizÃ¡veis
â”‚   â”‚   â”œâ”€â”€ hooks/       # Custom hooks
â”‚   â”‚   â”œâ”€â”€ lib/         # FunÃ§Ãµes utilitÃ¡rias 
â”‚   â”‚   â”œâ”€â”€ modules/     # MÃ³dulos especÃ­ficos
â”‚   â”‚   â””â”€â”€ routes/      # DefiniÃ§Ãµes de rotas
â”‚   â”œâ”€â”€ public/          # Arquivos estÃ¡ticos
â”‚   â””â”€â”€ package.json     # DependÃªncias do frontend
â”‚
â”œâ”€â”€ backend/             # Servidor API (Express)
â”‚   â”œâ”€â”€ src/             # CÃ³digo-fonte do backend
â”‚   â”‚   â”œâ”€â”€ controllers/ # Controladores da API
â”‚   â”‚   â”œâ”€â”€ models/      # Modelos de dados
â”‚   â”‚   â”œâ”€â”€ routes/      # Rotas da API
â”‚   â”‚   â”œâ”€â”€ middlewares/ # Middlewares Express
â”‚   â”‚   â”œâ”€â”€ config/      # ConfiguraÃ§Ãµes
â”‚   â”‚   â””â”€â”€ index.js     # Ponto de entrada
â”‚   â”œâ”€â”€ supabase/        # FunÃ§Ãµes e configuraÃ§Ãµes do Supabase
â”‚   â””â”€â”€ package.json     # DependÃªncias do backend
â”‚
â”œâ”€â”€ Makefile             # Comandos para facilitar o desenvolvimento
â”œâ”€â”€ start-dev.sh         # Script para iniciar frontend e backend
â””â”€â”€ update_api_urls.sh   # Script para atualizar URLs da API
```

Para mais detalhes, consulte o arquivo [REORGANIZACAO_IMPLEMENTADA.md](./REORGANIZACAO_IMPLEMENTADA.md).

## ğŸ” API e ComunicaÃ§Ã£o

A aplicaÃ§Ã£o agora estÃ¡ dividida em frontend e backend, que se comunicam via API REST:

### API REST (backend)

O backend fornece os seguintes endpoints:

1. **Membros**:
   - `GET /api/members` - Lista todos os membros
   - `GET /api/members/:id` - ObtÃ©m um membro especÃ­fico
   - `POST /api/members` - Cria um novo membro
   - `PUT /api/members/:id` - Atualiza um membro
   - `DELETE /api/members/:id` - Remove um membro

2. **AutenticaÃ§Ã£o**:
   - `POST /api/auth/login` - Login
   - `POST /api/auth/register` - Registro
   - `POST /api/auth/logout` - Logout
   - `GET /api/auth/profile` - Perfil do usuÃ¡rio autenticado

3. **VeÃ­culos**:
   - `GET /api/vehicles` - Lista todos os veÃ­culos
   - `GET /api/vehicles/:id` - ObtÃ©m um veÃ­culo especÃ­fico
   - `POST /api/vehicles` - Adiciona um novo veÃ­culo
   - `PUT /api/vehicles/:id` - Atualiza um veÃ­culo
   - `DELETE /api/vehicles/:id` - Remove um veÃ­culo

4. **Bar**:
   - `GET /api/bar/products` - Lista produtos do bar
   - `POST /api/bar/sales` - Registra uma venda
   - `GET /api/bar/shifts` - ObtÃ©m escala do bar

5. **Eventos**:
   - `GET /api/events` - Lista todos os eventos
   - `GET /api/events/:id` - ObtÃ©m detalhes de um evento
   - `POST /api/events` - Cria um novo evento
   - `PUT /api/events/:id` - Atualiza um evento
   - `DELETE /api/events/:id` - Remove um evento

6. **AdministraÃ§Ã£o**:
   - `GET /api/admin/stats` - EstatÃ­sticas do sistema
   - `GET /api/admin/logs` - Logs de atividades
   - `POST /api/admin/config` - ConfiguraÃ§Ãµes do sistema

7. **InventÃ¡rio**:
   - `GET /api/inventory` - Lista itens do inventÃ¡rio
   - `POST /api/inventory` - Adiciona item ao inventÃ¡rio
   - `PUT /api/inventory/:id` - Atualiza item do inventÃ¡rio
   - `DELETE /api/inventory/:id` - Remove item do inventÃ¡rio

### DocumentaÃ§Ã£o da API

A documentaÃ§Ã£o detalhada da API estÃ¡ disponÃ­vel via Swagger:

```
http://localhost:3001/api-docs
```

### Usando a API no Frontend

No frontend, vocÃª pode acessar a API usando o serviÃ§o personalizado:

```typescript
// No frontend
import { api } from '@/services/api';

// Exemplo de consulta de membros
const getMembers = async () => {
  try {
    const response = await api.get('/members');
    return response.data;
  } catch (error) {
    console.error('Erro ao buscar membros:', error);
    throw error;
  }
};
```

## ğŸ§ª Testes

Para testar a API de membros localmente:

```bash
cd backend

# Inicia o servidor de API e abre a interface de teste
./testar-api-membros.sh

# Para verificar se o campo username estÃ¡ sendo retornado corretamente
node _tests/verificar-username.js
```

## ğŸ”’ AutenticaÃ§Ã£o

O sistema utiliza o Supabase para autenticaÃ§Ã£o:
- Login com e-mail/senha
- Controle de permissÃµes baseado em papÃ©is
- Token JWT para autenticaÃ§Ã£o de API

## ğŸ“· Screenshots

*(Adicione screenshots da aplicaÃ§Ã£o quando disponÃ­veis)*

## ğŸ‘¥ Contribuidores

- JoÃ£o Barbosa - Desenvolvedor Principal

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ licenciado sob a LicenÃ§a MIT - consulte o arquivo [LICENSE](LICENSE) para obter detalhes.
